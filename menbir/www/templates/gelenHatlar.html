<ion-view title="Üýtgetmek" id="page13">
  <ion-content padding="true" class="has-header">
    <form name="myForm">
      <!--Welayat-->
      <div layout="row">
        <md-input-container>
          <label>Welayatlar</label>
          <md-select ng-change="jogapWelayat()" name="WelayatError" ng-model="maglumatlar.welayat" required>
            <md-option ng-repeat="welayat in welayatlar" value="{{welayat.value}}">{{welayat.wariant}}
          </md-select>
          <div class="errors" ng-messages="myForm.WelayatError.$error">
            <div ng-message="required">Hokman saylamaly!</div>
          </div>
        </md-input-container>
      </div>
      <!--Etraplar-->
      <div layout="row">
        <md-input-container>
          <label>Ertaplar</label>
          <md-select ng-change="jogapEtrap()" name="EtrapError" ng-model="maglumatlar.etrap" required>
            <md-option ng-repeat="etrap in etraplar| filter: {welay:maglumatlar.welayat}" value="{{etrap.value}}">{{etrap.wariant}}
          </md-select>
          <div class="errors" ng-messages="myForm.EtrapError.$error">
            <div ng-message="required">Hokman saylamaly!</div>
          </div>
        </md-input-container>
      </div>
      <!--Dayhan-->
      <div layout="row">
        <md-input-container>
          <label>Dayhan Birlesik</label>
          <md-select name="DayhanError" ng-model="maglumatlar.dayh">
            <md-option ng-repeat="dayh in dayhan| filter: {dayhanb:maglumatlar.etrap}" value="{{dayh.value}}">{{dayh.wariant}}
          </md-select>
          <div class="errors" ng-messages="myForm.DayhanError.$error">
            <div ng-message="required">Hokman saylamaly!</div>
          </div>
        </md-input-container>
      </div>



      <span ng-include="magAdy"></span>



      <!--Bildirişiň ady-->
      <div layout="row" layout-align="start" flex>
        <md-input-container flex="50">
          <label>Bildirişiň ady</label>
          <input type="text" name="TawarAdyError" ng-model="maglumatlar.tawarAdy" required minlength='15' md-maxlength="50"/>
          <div ng-messages="myForm.TawarAdyError.$error" ng-show="myForm.TawarAdyError.$dirty" multiple md-auto-hide="false">
            <div ng-message="required">
              Hökman doldurmaly!
            </div>
            <div ng-message="minlength">Az ýazmaň!</div>
            <div ng-message="md-maxlength">Köp ýazmaň!</div>
          </div>
        </md-input-container>
      </div>
      <!--Maglumat-->
      <div layout="row">
        <md-input-container class="md-block">
          <label>Maglumat</label>
          <textarea ng-model="maglumatlar.maglumat" md-maxlength="1000" rows="1" md-select-on-focus></textarea>
        </md-input-container>
      </div>

       <!-- -&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;{{maglumatlar}}-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;-->

      <!--Bahasy-->
      <md-card-content>
        <div layout="row">
          <md-input-container>
            <label>{{maglumatlar.bahasyname}}</label>
            <input name="BahaError" ng-model="maglumatlar.bahasy2" type="number" step="0.1" min="0" required>
            <div class="errors" ng-messages="myForm.BahaError.$error">
              <div ng-message="required">Bahasyny görkeziň!</div>
            </div>
          </md-input-container>
          <md-input-container>
            <label>Pul Belligi</label>
            <md-select name="PulBelligiErroe" ng-model="maglumatlar.pulBelligi" required>
              <md-option value="TMM (Köne)"><em>Köne Manat (TMM)</em></md-option>
              <md-option value="TMT (Täze)"><em>Täze Manat (TMT)</em></md-option>
              <md-option value="$"><em>Dollar ($)</em></md-option>
            </md-select>
            <div class="errors" ng-messages="myForm.PulBelligiErroe.$error">
              <div ng-message="required">Hokman saylamaly!</div>
            </div>
          </md-input-container>
        </div>
      </md-card-content>






      <!--Surat-->
      <div class="row">
        <div class="box-inner" style="margin-bottom:4%;">
          <div class="box-content">
            <div class="row" style="margin:1%;">
              <div class="col-md-12">
                <label>Ýüklenmeli Surat:</label>
              </div>
            </div>


            <div class="row" style="margin:1%;">
              <div class="col-md-12">
                <p>
                  <img class="" style="width:150px; height:130px;"  ng-src="{{step}}" />
                </p>
              </div>
            </div>

            <label class="" ng-disabled="maxImgBoldy">
              <div style="text-align: center; overflow: hidden; width: 60px; height: 20px; border: 1px solid #038f1a; background-color: #038f1a;" ng-disabled="maxImgBoldy">
                <div style="color: #fff; font-size: 20px; font-weight: bold;" ng-disabled="maxImgBoldy">Surat</div>
                <input  ng-disabled="maxImgBoldy" id="upload"  file-model = "myFile" type='file' file-input="files" class="input-xlarge" onchange="angular.element(this).scope().imageUpload(event)"
                        style="display:none; margin-top: -50px; margin-left:-410px; -moz-opacity: 0; filter: alpha(opacity=0); opacity: 0; font-size: 150px; height: 100px;">
              </div>
            </label>

            <div class="row" style="margin:1%;" ng-show="step">
              <div class="col-md-4">
                <button ng-disabled="maxImgBoldy" class="btn btn-info" ng-click="upload()">
                  <i class=""></i>
                  Ýükle
                </button>
              </div>
              <div class="col-md-6" ng-show="isProcessing">
                <img class=""  src="ajax-loaders/ajax-loader-5.gif" />
              </div>
            </div>

          </div>
        </div>





        <div class="box col-md-8">
          <div class="box-inner" style="margin-bottom:4%;">
            <div>
              <h4>Ýüklenen Suratlar</h4>
            </div>
            <div class="box-content" style="max-height: 500px; overflow:auto;" ng-repeat="iFi in iFile">
              <div class="row" style="margin:1%;">
                <div class="col-md-12">
                  <!--<p>{{iFi}}-->
                  <img class="img-thumbnail" style="width:50px; height:50px;" ng-src="http://a0107369.xsph.ru/img/surat_{{iFi}}"/> <!-- ng-src="http://a0107369.xsph.ru/img/surat_11133.jpg" />-->
                  <button ng-click="deletImage(iFi)">Pozmak</button>
                  <!--</p>-->
                </div>
              </div>

            </div>
          </div>
        </div>

      </div>





      <div class="error" ng-show="myForm.$invalid">
        Aloooooo
      </div>
      <button class="button button-stable" ng-disabled="myForm.$invalid" type="submit" ng-click="ugratmak(maglumatlar)">
        Ugratmak
      </button>
    </form>
  </ion-content>
</ion-view>